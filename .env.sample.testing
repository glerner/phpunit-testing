# Testing Environment Configuration
# Copy this file to .env.testing and customize for your environment

# WordPress Test Library Path (Required for integration tests)
# This is where PHPUnit expects to find the WordPress test library
# The setup script will install PHPUnit itself at: "wp-content/plugins/wordpress-develop/tests/phpunit"
WP_TESTS_DIR=/app/wp-content/plugins/wordpress-develop/tests/phpunit

# WordPress Root Path (For integration tests)
# The folder that has wp-content/ and wp-includes/
# If you are within a container (e.g., Lando), use the container's address,
# If you are on the host, use the path to your WordPress installation
WP_ROOT=/app

# PHPUnit Database Configuration
# These settings allow you to customize the database used for PHPUnit tests
# If not specified, defaults will be used (WP database name + '_test' and WP table prefix)

# Custom database name for PHPUnit tests
# WP_PHPUNIT_DB_NAME=wordpress_test_yourplugin

# Custom table prefix for PHPUnit tests
# Useful when testing multiple plugins in the same WordPress installation
# WP_PHPUNIT_TABLE_PREFIX=yourplugin_test_

# SSH Command Configuration
# The setup script needs to access both the filesystem and database
# This setting determines how database commands are executed
#
# Common options:
#   none - Run database commands directly (local development with direct DB access)
#   lando ssh - Use Lando to access the database (recommended for Lando environments)
#   ssh user@host - Connect to a remote server (for remote/staging environments)
#   ssh - Already in an SSH session with DB access (don't launch another SSH session)
#
# For local development with tools like Local by Flywheel, XAMPP, or MAMP, use 'none'
# For Lando environments, use 'lando ssh'
SSH_COMMAND=none

# WordPress Test Database Configuration (for integration tests)
WP_TESTS_DB_NAME=wordpress_test
WP_TESTS_DB_USER=wordpress
WP_TESTS_DB_PASSWORD=wordpress
WP_TESTS_DB_HOST=database

# WordPress Test Site Configuration (for integration tests)
WP_TESTS_DOMAIN=example.org
WP_TESTS_EMAIL=admin@example.org
WP_TESTS_TITLE="Test Blog"
WP_TESTS_NETWORK_TITLE="Test Network"
WP_TESTS_SUBDOMAIN_INSTALL=1

# Test Environment

# WordPress Path Configuration - REQUIRED
# We recommend developing your plugin outside the WordPress installation
# These settings tell the testing framework where your WordPress installation is located

# The path to the WordPress installation (without trailing slash)
# - For local development: Your local WordPress path
# - For Lando: The path on your host machine, not the container path
FILESYSTEM_WP_ROOT=/home/username/sites/wordpress

# The name of your plugin's directory in WordPress (wp-content/plugins/your-plugin-name)
# This should match the folder name where your plugin is or will be installed
FRAMEWORK_DEST_NAME=your-plugin-folder-name

# Testing Configuration
TEST_ERROR_LOG=/tmp/phpunit-testing-error.log
PHP_MEMORY_LIMIT=512M

# Code Coverage Settings
COVERAGE_REPORT_PATH=build/coverage
CLOVER_REPORT_PATH=build/logs/clover.xml

# Test Groups -- Future Enhancement
# Define groups of tests that can be run together with the --group option
# Faster execution than running all tests in the project
# Use wildcards (*) to include multiple test files without listing each one
# Format: INI-style sections with one path per line

# Uncomment and customize these examples when implementing the --group feature

# [GROUPS]

# Architectural layer groups

# [MODELS]
# tests/*/models/*

# [SERVICES]
# tests/*/services/*

# [CONTROLLERS]
# tests/*/controllers/*

# [VIEWS]
# tests/*/views/*

# Feature-centric groups

# [PALETTE_MANAGEMENT]
# tests/unit/models/palette*.php
# tests/unit/services/palette-*.php
# tests/wp-mock/controllers/palette-*.php

# [COLOR_MANIPULATION]
# tests/unit/models/color*.php
# tests/unit/services/color-*.php

# [USER_INTERFACE]
# tests/wp-mock/ui/*
# tests/integration/admin/*
